<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Optimizations - tfplan2md</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../index.html" style="display: flex; align-items: center; gap: 12px; text-decoration: none;">
                    <img src="../assets/images/tfplan2md-logo.svg" alt="tfplan2md logo" width="36" height="36">
                    <span class="brand-name">tfplan2md</span>
                </a>
            </div>
            <button class="mobile-menu-btn" aria-label="Toggle navigation menu">
                <span class="hamburger-icon"></span>
            </button>
                        <div class="nav-menu">
                <a href="../features/index.html" class="nav-item">Features</a>
                <a href="../getting-started.html" class="nav-item">Install</a>
                <a href="../docs.html" class="nav-item">Docs</a>
                <a href="../examples.html" class="nav-item">Examples</a>
                <a href="../providers/index.html" class="nav-item">Providers</a>
                <a href="../architecture.html" class="nav-item">Architecture</a>
                <a href="../ai-workflow.html" class="nav-item">AI Workflow</a>
                <a href="../contributing.html" class="nav-item">Contributing</a>
                <button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
                    <span class="theme-icon"></span>
                </button>
                <a href="https://github.com/oocx/tfplan2md" class="nav-item nav-cta">GitHub</a>
            </div>
        </div>
    </nav>

    <header class="hero hero-secondary">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title">Azure Optimizations</h1>
                <p class="hero-subtitle">
                    Purpose-built features for Azure that format resource IDs, map principal names, and show role assignments clearly.
                </p>
            </div>
        </div>
    </header>

    <section id="azure-resource-ids" class="section">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Readable Azure Resource IDs</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    Long Azure resource IDs are automatically parsed and formatted as human-readable scopes instead of displaying raw GUID paths.
                </p>
                
                <div class="feature-comparison">
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚ùå Without tfplan2md</h3>
                        <div class="code-block">
                            <pre><code># module.security.azurerm_key_vault.main will be created
+ resource "azurerm_key_vault" "main" {
    + id                            = (known after apply)
    + location                      = "eastus"
    + name                          = "kv-tfplan2md"
    + resource_group_name           = "rg-tfplan2md-demo"
    + tenant_id                     = "11111111-2222-3333-4444-555555555555"
  }

# module.security.azurerm_key_vault_secret.db_password will be created
+ resource "azurerm_key_vault_secret" "db_password" {
    + key_vault_id = "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/rg-tfplan2md-demo/providers/Microsoft.KeyVault/vaults/kv-tfplan2md"
    + name         = "db-password"
  }</code></pre>
                        </div>
                        <p class="comparison-note">Long Azure IDs make it hard to identify resources at a glance.</p>
                    </div>
                    
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚úÖ With tfplan2md</h3>
                        <div class="code-block">
                            <pre><code>### ‚ûï module.security.azurerm_key_vault_secret.db_password

| Attribute | Value |
| ----------- | ------- |
| content_type | `password` |
| key_vault_id | Key Vault `kv-tfplan2md` in resource group `rg-tfplan2md-demo` |
| name | `üÜî db-password` |</code></pre>
                        </div>
                        <p class="comparison-note">Human-readable format shows what you need to know‚Äîthe resource name and its resource group.</p>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Features</h3>
                    <ul class="highlights-list">
                        <li>Automatic detection for subscription, resource group, and resource IDs</li>
                        <li>Only values are formatted as code‚Äîlabels remain readable</li>
                        <li>Azure IDs remain in attribute tables (not moved to large values section)</li>
                        <li>Works for all azurerm resources‚Äîno configuration needed</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="role-assignments" class="section" style="background: var(--color-surface);">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Azure Role Assignment Display</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    Role assignments show human-readable role names, scopes, and principal information in a clear table format.
                </p>
                
                <div class="feature-comparison">
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚ùå Without tfplan2md</h3>
                        <div class="code-block">
                            <pre><code># module.security.azurerm_role_assignment.rg_reader will be created
+ resource "azurerm_role_assignment" "rg_reader" {
    + id                   = (known after apply)
    + principal_id         = "00000000-0000-0000-0000-000000000001"
    + principal_type       = "User"
    + role_definition_id   = "/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7"
    + role_definition_name = "Reader"
    + scope                = "/subscriptions/12345678-1234-1234-1234-123456789012/resourceGroups/rg-tfplan2md-demo"
  }</code></pre>
                        </div>
                        <p class="comparison-note">GUIDs and long paths make it hard to understand who gets what access.</p>
                    </div>
                    
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚úÖ With tfplan2md</h3>
                        <div class="code-block">
                            <pre><code>### ‚ûï module.security.azurerm_role_assignment.rg_reader

<summary>üë§ User ‚Üí üõ°Ô∏è Reader on rg-tfplan2md-demo</summary>

| Attribute | Value |
| ----------- | ------- |
| scope | `üìÅ rg-tfplan2md-demo` |
| role_definition_name | `üõ°Ô∏è Reader` |
| principal_type | `üë§ User` |
| principal_id | `00000000-0000-0000-0000-000000000001` |</code></pre>
                        </div>
                        <p class="comparison-note">Clear summary at the top, formatted scope, and visual icons.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="principal-mapping" class="section">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Principal Name Mapping</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    Map cryptic Principal IDs (GUIDs) to human-readable names (e.g., user emails, group names, service principals) using a JSON mapping file.
                </p>
                
                <div class="feature-example">
                    <div class="code-window">
                        <div class="code-header">
                            <span class="code-title">Command</span>
                        </div>
                        <pre><code>tfplan2md plan.json --principal-mapping principals.json</code></pre>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Benefits</h3>
                    <ul class="highlights-list">
                        <li>No more cryptic GUIDs in role assignments</li>
                        <li>Immediately see who has access to what</li>
                        <li>Works with role assignments and any resource showing principal IDs</li>
                        <li>Falls back to GUID if no mapping exists</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="section" style="background: var(--color-surface);">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Learn More</h2>
                </div>
                <p class="feature-detail-description">
                    Azure optimizations include automatic formatting of resource IDs, role assignments, and principal name mapping.
                </p>
                <div class="feature-highlights">
                    <h3 class="highlights-title">Related Documentation</h3>
                    <ul class="highlights-list">
                        <li><a href="https://github.com/oocx/tfplan2md/tree/main/docs/features/019-azure-resource-id-formatting" target="_blank" rel="noopener noreferrer">Feature Specification: Azure Resource ID Formatting</a></li>
                        <li><a href="https://github.com/oocx/tfplan2md/tree/main/docs/features/009-role-assignment-table-format" target="_blank" rel="noopener noreferrer">Feature Specification: Role Assignment Display</a></li>
                        <li><a href="https://github.com/oocx/tfplan2md/tree/main/docs/features/006-role-assignment-readable-display" target="_blank" rel="noopener noreferrer">Role Assignment Readable Display</a></li>
                        <li><a href="../docs.html#cli-options">CLI Options Reference</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-heading">Product</h4>
                    <a href="../features/index.html" class="footer-link">Features</a>
                    <a href="../getting-started.html" class="footer-link">Get Started</a>
                    <a href="../docs.html" class="footer-link">Documentation</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-heading">Resources</h4>
                    <a href="https://github.com/oocx/tfplan2md" class="footer-link">GitHub</a>
                    <a href="https://hub.docker.com/r/oocx/tfplan2md" class="footer-link">Docker Hub</a>
                    <a href="../examples.html" class="footer-link">Examples</a>
                    <a href="../architecture.html" class="footer-link">Architecture</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-heading">Community</h4>
                    <a href="https://github.com/oocx/tfplan2md/issues" class="footer-link">Issues</a>
                    <a href="../contributing.html" class="footer-link">Contributing</a>
                    <a href="https://github.com/oocx/tfplan2md/blob/main/LICENSE" class="footer-link">License</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">¬© 2025 tfplan2md ‚Ä¢ MIT License</p>
                <p class="footer-note">Built 100% with GitHub Copilot</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu functionality
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-menu');
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                mobileMenuBtn.classList.toggle('active');
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!navMenu.contains(e.target) && !mobileMenuBtn.contains(e.target) && navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                    mobileMenuBtn.classList.remove('active');
                }
            });
        }

        // Theme toggle functionality
        const themeToggle = document.querySelector('.theme-toggle');
        const html = document.documentElement;
        
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);
        updateThemeButton(currentTheme);
        
        themeToggle.addEventListener('click', () => {
            const newTheme = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton(newTheme);
        });
        
        function updateThemeButton(theme) {
            const label = theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode';
            themeToggle.setAttribute('aria-label', label);
            themeToggle.setAttribute('title', label);
        }
    </script>
</body>
</html>