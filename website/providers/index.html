<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Provider Templates - tfplan2md</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../index.html" class="brand-link">
                    <img src="../assets/images/logo-full.svg" alt="tfplan2md" height="64" class="brand-logo-full">
                </a>
            </div>
            <button class="mobile-menu-btn" aria-label="Toggle navigation menu">
                <span class="hamburger-icon"></span>
            </button>
                        <div class="nav-menu">
                <a href="../features/index.html" class="nav-item">Features</a>
                <a href="../getting-started.html" class="nav-item">Install</a>
                <a href="../docs.html" class="nav-item">Docs</a>
                <a href="../examples.html" class="nav-item">Examples</a>
                <a href="../providers/index.html" class="nav-item active">Providers</a>
                <a href="../architecture.html" class="nav-item">Architecture</a>
                <a href="../ai-workflow.html" class="nav-item">AI Workflow</a>
                <a href="../contributing.html" class="nav-item">Contributing</a>
                <button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
                    <img src="../assets/icons/dark-light-mode.svg" alt="Toggle theme" class="theme-icon">
                </button>
                <a href="https://github.com/oocx/tfplan2md" class="nav-item nav-cta">GitHub</a>
            </div>
        </div>
    </nav>

    <header class="hero" style="padding: 60px 0;">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title" style="font-size: 48px;">Provider Templates</h1>
                <p class="hero-subtitle">
                    Specialized templates for popular Terraform providers, automatically optimizing output for provider-specific resource types.
                </p>
            </div>
        </div>
    </header>

    <!-- Overview -->
    <section class="section" style="padding-top: 0;">
        <div class="section-container">
            <h2 class="section-title">How Provider Templates Work</h2>
            <p class="section-subtitle">
                tfplan2md automatically detects resource types and applies specialized templates when available.
            </p>

            <h3 style="margin-top: 40px; font-size: 24px; margin-bottom: 16px;">Template Resolution</h3>
            <p style="margin-bottom: 16px;">When rendering a resource change, tfplan2md follows this resolution order:</p>
            <ol style="margin-left: 24px;">
                <li style="margin-bottom: 8px;"><strong>Provider-specific template</strong> ‚Äî e.g., <code>azurerm/firewall_network_rule_collection.sbn</code></li>
                <li style="margin-bottom: 8px;"><strong>Default template</strong> ‚Äî Generic rendering for all resource types</li>
            </ol>
            <p style="margin-top: 16px;">This ensures specialized templates are used when available, with graceful fallback to generic rendering.</p>
        </div>
    </section>

    <!-- Supported Providers -->
    <section class="section" style="margin-top: 40px;">
        <div class="section-container">
            <h2 class="section-title">Supported Providers</h2>
            <p class="section-subtitle">
                The following providers have specialized template support:
            </p>

                <div class="features-grid" style="margin-top: 40px;">
                    <!-- Azure Provider -->
                    <div class="feature-category-card">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="feature-icon" style="margin: 0; font-size: 32px;">‚òÅÔ∏è</div>
                            <div>
                                <h3 style="margin: 0;">Azure (azurerm)</h3>
                                <span style="display: inline-block; padding: 4px 12px; background: var(--color-success); color: white; border-radius: 12px; font-size: 12px; font-weight: 600; margin-top: 4px;">Implemented</span>
                            </div>
                        </div>
                        <p>Comprehensive support for Azure resources with inline diffing, resource ID formatting, and role assignment enhancements.</p>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">Specialized Resources</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;"><strong>Firewall Network Rule Collections</strong> ‚Äî Inline diff of rules (added/removed/unchanged)</li>
                            <li style="margin-bottom: 8px;"><strong>Network Security Groups</strong> ‚Äî Rule-level diffing with priority awareness</li>
                            <li style="margin-bottom: 8px;"><strong>Role Assignments</strong> ‚Äî Principal name mapping and readable scope display</li>
                        </ul>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">Global Enhancements</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;"><strong>Resource ID Formatting</strong> ‚Äî Long Azure IDs broken into readable scopes</li>
                            <li style="margin-bottom: 8px;"><strong>Semantic Icons</strong> ‚Äî Visual indicators for IPs (üåê), ports (üîå), protocols (üì®/üîó), principals (üë§/üë•/üíª)</li>
                            <li style="margin-bottom: 8px;"><strong>Boolean Formatting</strong> ‚Äî ‚úÖ/‚ùå for true/false values</li>
                        </ul>
                        
                        <div style="display: flex; gap: 12px; margin-top: 24px;">
                            <a href="azurerm.html" class="btn btn-secondary" style="flex: 1; text-align: center;">View Documentation</a>
                            <a href="../examples.html#firewall-rules" class="btn btn-secondary" style="flex: 1; text-align: center;">See Examples</a>
                        </div>
                    </div>

                    <!-- Azure DevOps Provider -->
                    <div class="feature-category-card">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="feature-icon" style="margin: 0; font-size: 32px;">üîß</div>
                            <div>
                                <h3 style="margin: 0;">Azure DevOps</h3>
                                <span style="display: inline-block; padding: 4px 12px; background: var(--color-success); color: white; border-radius: 12px; font-size: 12px; font-weight: 600; margin-top: 4px;">Partial Support</span>
                            </div>
                        </div>
                        <p>Specialized support for Azure DevOps variable groups with semantic diffing and secret protection.</p>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">Implemented Resources</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;"><strong>Variable Groups</strong> ‚Äî Variable-level diffing with secret value protection</li>
                        </ul>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">Planned Resources</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;">Projects and project settings</li>
                            <li style="margin-bottom: 8px;">Build and release pipelines</li>
                            <li style="margin-bottom: 8px;">Service connections</li>
                        </ul>
                        
                        <p style="margin-top: 24px; padding: 12px; background: var(--color-surface); border-left: 3px solid var(--color-success); font-size: 14px;">
                            <strong>Status:</strong> Variable groups implemented. Additional resources in planning phase.
                        </p>
                        
                        <div style="margin-top: 24px;">
                            <a href="azuredevops.html" class="btn btn-secondary" style="width: 100%; text-align: center;">View Documentation</a>
                        </div>
                    </div>

                    <!-- Azure AD Provider -->
                    <div class="feature-category-card">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="feature-icon" style="margin: 0; font-size: 32px;">üîê</div>
                            <div>
                                <h3 style="margin: 0;">Azure AD (azuread)</h3>
                                <span style="display: inline-block; padding: 4px 12px; background: var(--color-text-secondary); color: white; border-radius: 12px; font-size: 12px; font-weight: 600; margin-top: 4px;">Planned</span>
                            </div>
                        </div>
                        <p>Planned support for Azure Active Directory resources with emphasis on group memberships and application configurations.</p>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">Planned Resources</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;">Groups and group memberships</li>
                            <li style="margin-bottom: 8px;">Applications and service principals</li>
                            <li style="margin-bottom: 8px;">Conditional access policies</li>
                            <li style="margin-bottom: 8px;">Directory roles</li>
                        </ul>
                        
                        <p style="margin-top: 24px; padding: 12px; background: var(--color-surface); border-left: 3px solid var(--color-primary); font-size: 14px;">
                            <strong>Status:</strong> In planning phase. Contributions welcome!
                        </p>
                        
                        <div style="margin-top: 24px;">
                            <a href="azuread.html" class="btn btn-secondary" style="width: 100%; text-align: center;">View Documentation</a>
                        </div>
                    </div>

                    <!-- MS Graph Provider -->
                    <div class="feature-category-card">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="feature-icon" style="margin: 0; font-size: 32px;">üìä</div>
                            <div>
                                <h3 style="margin: 0;">Microsoft Graph</h3>
                                <span style="display: inline-block; padding: 4px 12px; background: var(--color-text-secondary); color: white; border-radius: 12px; font-size: 12px; font-weight: 600; margin-top: 4px;">Planned</span>
                            </div>
                        </div>
                        <p>Planned support for Microsoft Graph resources including users, groups, and policies.</p>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">Planned Resources</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;">Users and user settings</li>
                            <li style="margin-bottom: 8px;">Groups and group settings</li>
                            <li style="margin-bottom: 8px;">Policies and policy assignments</li>
                        </ul>
                        
                        <p style="margin-top: 24px; padding: 12px; background: var(--color-surface); border-left: 3px solid var(--color-primary); font-size: 14px;">
                            <strong>Status:</strong> In planning phase. Contributions welcome!
                        </p>
                        
                        <div style="margin-top: 24px;">
                            <a href="msgraph.html" class="btn btn-secondary" style="width: 100%; text-align: center;">View Documentation</a>
                        </div>
                    </div>

                    <!-- Contribute/Request Provider -->
                    <div class="feature-category-card">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="feature-icon" style="margin: 0; font-size: 32px;">üí°</div>
                            <div>
                                <h3 style="margin: 0;">Your Provider</h3>
                                <span style="display: inline-block; padding: 4px 12px; background: var(--color-primary); color: white; border-radius: 12px; font-size: 12px; font-weight: 600; margin-top: 4px;">We Need You!</span>
                            </div>
                        </div>
                        <p>Need support for a different Terraform provider? We'd love to hear from you!</p>
                        
                        <h4 style="margin-top: 24px; margin-bottom: 12px; font-size: 16px;">How to Help</h4>
                        <ul style="margin-left: 20px; font-size: 14px;">
                            <li style="margin-bottom: 8px;"><strong>Request a provider</strong> ‚Äî Open an issue describing which provider you need</li>
                            <li style="margin-bottom: 8px;"><strong>Contribute templates</strong> ‚Äî Submit provider-specific templates for your use case</li>
                            <li style="margin-bottom: 8px;"><strong>Share examples</strong> ‚Äî Help us understand which resources need specialized rendering</li>
                        </ul>
                        
                        <p style="margin-top: 24px; padding: 12px; background: var(--color-surface); border-left: 3px solid var(--color-primary); font-size: 14px;">
                            <strong>Community-driven:</strong> Provider support grows based on user needs. Your input helps prioritize development!
                        </p>
                        
                        <div style="display: flex; gap: 12px; margin-top: 24px;">
                            <a href="https://github.com/oocx/tfplan2md/issues/new" class="btn btn-primary" style="flex: 1; text-align: center;" target="_blank" rel="noopener">Request Provider</a>
                            <a href="../contributing.html" class="btn btn-secondary" style="flex: 1; text-align: center;">Contribute</a>
                        </div>
                    </div>
            </div>
        </div>
    </section>

    <!-- Custom Templates -->
    <section class="section" style="margin-top: 40px;">
        <div class="section-container">
            <h2 class="section-title">Custom Templates</h2>
            <p class="section-subtitle">
                Create your own provider-specific templates using Scriban syntax.
            </p>

            <div class="feature-category-card" style="margin-top: 40px;">
                <h3 style="margin-top: 0;">Template Structure</h3>
                <pre style="background: var(--color-surface); padding: 16px; border-radius: 8px; overflow-x: auto; font-size: 14px;"><code>Templates/
‚îú‚îÄ‚îÄ default.sbn           # Default template for all resources
‚îú‚îÄ‚îÄ summary.sbn           # Summary-only template
‚îî‚îÄ‚îÄ azurerm/              # Provider-specific templates
    ‚îú‚îÄ‚îÄ firewall_network_rule_collection.sbn
    ‚îú‚îÄ‚îÄ network_security_group.sbn
    ‚îî‚îÄ‚îÄ role_assignment.sbn</code></pre>

                <h3 style="margin-top: 32px;">Creating a Custom Template</h3>
                <ol style="margin-left: 20px;">
                    <li style="margin-bottom: 12px;">Create a directory structure: <code>Templates/&lt;provider&gt;/</code></li>
                    <li style="margin-bottom: 12px;">Add a <code>.sbn</code> file named after the resource type (e.g., <code>storage_account.sbn</code>)</li>
                    <li style="margin-bottom: 12px;">Write Scriban template using available properties from the resource change</li>
                    <li style="margin-bottom: 12px;">Test with <code>--template</code> flag:<br><code style="word-break: break-all;">docker run -v $(pwd)/Templates:/templates oocx/tfplan2md --template /templates/default.sbn</code></li>
                </ol>

                <h3 style="margin-top: 32px;">Example: Custom Firewall Rule Template</h3>
                <pre style="background: var(--color-surface); padding: 16px; border-radius: 8px; overflow-x: auto; font-size: 14px;"><code>{{~ # Firewall Network Rule Collection Template ~}}
{{~ if change.action == "create" || change.action == "update" ~}}
### {{ change.address }}

{{~ if after.rule ~}}
**Rules:**
{{~ for rule in after.rule ~}}
- **{{ rule.name }}**: {{ rule.source_addresses | array.join ", " }} ‚Üí {{ rule.destination_addresses | array.join ", " }} ({{ rule.protocols | array.join ", " }})
{{~ end ~}}
{{~ end ~}}
{{~ end ~}}</code></pre>

                <p style="margin-top: 24px;">For complete template documentation, see <a href="../docs.html#custom-templates" style="color: var(--color-primary); text-decoration: none; font-weight: 600;">Template Customization Guide</a>.</p>
            </div>
        </div>
    </section>

    <!-- Contributing Templates -->
    <section class="section" style="margin-top: 40px;">
        <div class="section-container">
            <h2 class="section-title">Contributing Provider Templates</h2>
            <p class="section-subtitle">
                We welcome contributions of new provider templates!
            </p>

            <div class="features-grid" style="margin-top: 40px;">
                <div class="feature-category-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Good Candidates for Templates</h3>
                    <ul style="margin-left: 20px; font-size: 14px;">
                        <li style="margin-bottom: 8px;">Resources with complex nested structures (rules, policies, configurations)</li>
                        <li style="margin-bottom: 8px;">Resources where index-based diffs are confusing</li>
                        <li style="margin-bottom: 8px;">Resources with long IDs or references that need formatting</li>
                        <li style="margin-bottom: 8px;">Resources where semantic comparison adds value (e.g., firewall rules)</li>
                    </ul>
                </div>

                <div class="feature-category-card">
                    <div class="feature-icon">üìã</div>
                    <h3>Contribution Process</h3>
                    <ol style="margin-left: 20px; font-size: 14px;">
                        <li style="margin-bottom: 8px;"><strong>Identify</strong> ‚Äî Find a resource that could benefit from specialized rendering</li>
                        <li style="margin-bottom: 8px;"><strong>Design</strong> ‚Äî Create a Scriban template that improves readability</li>
                        <li style="margin-bottom: 8px;"><strong>Test</strong> ‚Äî Ensure it works with all actions (create, update, replace, delete)</li>
                        <li style="margin-bottom: 8px;"><strong>Document</strong> ‚Äî Explain what improvements the template provides</li>
                        <li style="margin-bottom: 8px;"><strong>Submit</strong> ‚Äî Follow the <a href="../contributing.html" style="color: var(--color-primary); font-weight: 600; text-decoration: none;">contribution guidelines</a></li>
                    </ol>
                </div>

                <div class="feature-category-card">
                    <div class="feature-icon">‚ú®</div>
                    <h3>Template Design Guidelines</h3>
                    <ul style="margin-left: 20px; font-size: 14px;">
                        <li style="margin-bottom: 8px;">Focus on showing <strong>what changed</strong>, not just the new state</li>
                        <li style="margin-bottom: 8px;">Use inline diffing when appropriate (added/removed/unchanged)</li>
                        <li style="margin-bottom: 8px;">Format complex values for readability (tables, lists, collapsible sections)</li>
                        <li style="margin-bottom: 8px;">Add visual icons for common value types (IPs, ports, protocols)</li>
                        <li style="margin-bottom: 8px;">Keep output concise; use collapsible sections for details</li>
                        <li style="margin-bottom: 8px;">Test with real-world Terraform plans</li>
                    </ul>
                </div>
            </div>

            <div style="display: flex; gap: 16px; margin-top: 48px; justify-content: center;">
                <a href="https://github.com/oocx/tfplan2md/issues" class="btn btn-primary">Request Provider Support</a>
                <a href="../contributing.html" class="btn btn-secondary">Contributing Guide</a>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4 class="footer-heading">Product</h4>
                    <a href="../features/index.html" class="footer-link">Features</a>
                    <a href="../getting-started.html" class="footer-link">Get Started</a>
                    <a href="../examples.html" class="footer-link">Examples</a>
                    <a href="../docs.html" class="footer-link">Documentation</a>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Resources</h4>
                    <a href="../architecture.html" class="footer-link">Architecture</a>
                    <a href="../providers/index.html" class="footer-link">Providers</a>
                    <a href="../ai-workflow.html" class="footer-link">AI Workflow</a>
                    <a href="https://github.com/oocx/tfplan2md" class="footer-link" target="_blank" rel="noopener">GitHub</a>
                </div>
                <div class="footer-column">
                    <h4 class="footer-heading">Community</h4>
                    <a href="../contributing.html" class="footer-link">Contributing</a>
                    <a href="https://github.com/oocx/tfplan2md/issues" class="footer-link" target="_blank" rel="noopener">Issues</a>
                    <a href="https://github.com/oocx/tfplan2md/blob/main/LICENSE" class="footer-link" target="_blank" rel="noopener">License</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 tfplan2md contributors. Licensed under MIT License.</p>
            </div>
        </div>
    </footer>

    <script>
        // Theme toggle functionality
        const themeToggle = document.querySelector('.theme-toggle');
        const htmlElement = document.documentElement;
        
        // Load saved theme preference or default to light
        const savedTheme = localStorage.getItem('theme') || 'light';
        htmlElement.setAttribute('data-theme', savedTheme);
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            htmlElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });

        // Mobile menu toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-menu');
        
        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            mobileMenuBtn.classList.toggle('active');
        });
    </script>
</body>
</html>
