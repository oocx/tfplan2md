# UAT Test Plan: Report Presentation Enhancements

## Goal
Verify that the visual enhancements (borders, icons, metadata) render correctly in GitHub and Azure DevOps, and that the screenshot tool's partial capture works as expected.

## Artifacts
**Artifact to use:** `artifacts/presentation-enhancements-demo.md`

**Creation Instructions:**
- **Source Plan:** `src/tests/Oocx.TfPlan2Md.Tests/TestData/comprehensive-plan.json` (or similar)
- **Command:** `tfplan2md --input comprehensive-plan.json --output artifacts/presentation-enhancements-demo.md`
- **Rationale:** Need a plan with multiple resource types (including Firewall/NSG) and various naming attributes to verify all visual changes.

## Test Steps
1. Run UAT using the `UAT Tester` agent.
2. Verify the generated PRs on GitHub and Azure DevOps.
3. Manually run the screenshot tool on the generated HTML to verify partial capture.

## Validation Instructions (Test Description)

### 1. Resource Borders (Azure DevOps)
**Specific Resources/Sections:**
- Any standard resource (e.g., `azurerm_storage_account`)
- A Firewall rule or NSG rule (e.g., `azurerm_firewall_network_rule_collection`)

**Expected Outcome:**
- All resources should be enclosed in a light gray border (`#f0f0f0`) with `12px` padding.
- Firewall/NSG rules should be expanded by default (`<details open>`) but still have the border.
- In GitHub, these borders should NOT be visible (GitHub strips inline styles).

### 2. Report Metadata
**Location:** Header section, below the main title.

**Expected Outcome:**
- A line starting with "Generated by tfplan2md..." should be visible.
- It should include the version, a 7-character commit hash, and a UTC timestamp.
- It should be on the same line as the Terraform version.

### 3. Semantic Icons
**Exact Attributes:**
- `name`
- `resource_group_name`

**Expected Outcome:**
- `name` attributes should have the üÜî icon.
- `resource_group_name` attributes should have the üìÅ icon.
- There should be a non-breaking space between the icon and the value.

### 4. Partial Screenshot Capture
**Command:**
`dotnet run --project src/tools/Oocx.TfPlan2Md.ScreenshotGenerator artifacts/presentation-enhancements-demo.github.html artifacts/partial-capture.png --target-terraform-resource-id "azurerm_storage_account.example"`

**Expected Outcome:**
- The generated `artifacts/partial-capture.png` should contain ONLY the storage account resource block, not the whole page.
- The image should be tightly cropped to the resource block.
