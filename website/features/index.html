<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Features - tfplan2md</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../index.html" style="display: flex; align-items: center; gap: 12px; text-decoration: none;">
                    <img src="../assets/images/tfplan2md-logo.svg" alt="tfplan2md logo" width="36" height="36">
                    <span class="brand-name">tfplan2md</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="../features/index.html" class="nav-item">Features</a>
                <a href="../getting-started.html" class="nav-item">Install</a>
                <a href="../docs.html" class="nav-item">Docs</a>
                <button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
                    <span class="theme-icon"></span>
                </button>
                <a href="https://github.com/oocx/tfplan2md" class="nav-item nav-cta">GitHub</a>
            </div>
        </div>
    </nav>

    <header class="hero" style="padding: 60px 0;">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title" style="font-size: 48px;">Features</h1>
                <p class="hero-subtitle">
                    Powerful features that make Terraform plan reviews faster, easier, and more effective.
                </p>
            </div>
        </div>
    </header>

    <section class="section">
        <div class="section-container">
            <div class="features-grid">
                <!-- Semantic Diffing -->
                <div class="feature-category-card">
                    <div class="feature-icon">üîç</div>
                    <h2 class="feature-category-title">Semantic Diffing</h2>
                    <p class="feature-category-description">
                        See what actually changed, not just index modifications. Compare firewall rules and network security groups semantically.
                    </p>
                    <div class="feature-list">
                        <a href="#firewall-rules" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Firewall Rule Diffing</span>
                        </a>
                        <a href="#nsg-rules" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>NSG Security Rules</span>
                        </a>
                    </div>
                </div>

                <!-- Module Organization -->
                <div class="feature-category-card">
                    <div class="feature-icon">üìÅ</div>
                    <h2 class="feature-category-title">Module Grouping</h2>
                    <p class="feature-category-description">
                        Resources are automatically grouped by Terraform module, making complex multi-module plans easy to review.
                    </p>
                    <div class="feature-list">
                        <a href="#module-grouping" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Automatic Module Organization</span>
                        </a>
                    </div>
                </div>

                <!-- Azure Optimizations -->
                <div class="feature-category-card">
                    <div class="feature-icon">‚òÅÔ∏è</div>
                    <h2 class="feature-category-title">Azure Optimizations</h2>
                    <p class="feature-category-description">
                        Purpose-built features for Azure that format resource IDs, map principal names, and show role assignments clearly.
                    </p>
                    <div class="feature-list">
                        <a href="#azure-resource-ids" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Readable Resource IDs</span>
                        </a>
                        <a href="#role-assignments" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Role Assignment Display</span>
                        </a>
                        <a href="#principal-mapping" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Principal Name Mapping</span>
                        </a>
                    </div>
                </div>

                <!-- Visual Enhancements -->
                <div class="feature-category-card">
                    <div class="feature-icon">üé®</div>
                    <h2 class="feature-category-title">Visual Enhancements</h2>
                    <p class="feature-category-description">
                        Semantic icons and consistent formatting make important values stand out at a glance.
                    </p>
                    <div class="feature-list">
                        <a href="#visual-icons" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Semantic Value Icons</span>
                        </a>
                        <a href="#value-formatting" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Consistent Value Formatting</span>
                        </a>
                    </div>
                </div>

                <!-- Resource Summaries -->
                <div class="feature-category-card">
                    <div class="feature-icon">üìù</div>
                    <h2 class="feature-category-title">Resource Summaries</h2>
                    <p class="feature-category-description">
                        One-line summaries for every resource change show what's important without expanding details.
                    </p>
                    <div class="feature-list">
                        <a href="#resource-summaries" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Intelligent Summaries</span>
                        </a>
                        <a href="#replacement-reasons" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Replacement Reasons</span>
                        </a>
                    </div>
                </div>

                <!-- Security & Privacy -->
                <div class="feature-category-card">
                    <div class="feature-icon">üîí</div>
                    <h2 class="feature-category-title">Security & Privacy</h2>
                    <p class="feature-category-description">
                        Sensitive values are automatically masked to prevent accidental exposure in pull requests.
                    </p>
                    <div class="feature-list">
                        <a href="#sensitive-masking" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Automatic Value Masking</span>
                        </a>
                    </div>
                </div>

                <!-- Large Values -->
                <div class="feature-category-card">
                    <div class="feature-icon">üìÑ</div>
                    <h2 class="feature-category-title">Large Value Handling</h2>
                    <p class="feature-category-description">
                        Multi-line and long values are formatted clearly with line-by-line diffs in collapsible sections.
                    </p>
                    <div class="feature-list">
                        <a href="#large-values" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Smart Large Value Display</span>
                        </a>
                        <a href="#diff-formats" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Multiple Diff Formats</span>
                        </a>
                    </div>
                </div>

                <!-- Custom Templates -->
                <div class="feature-category-card">
                    <div class="feature-icon">üõ†Ô∏è</div>
                    <h2 class="feature-category-title">Customization</h2>
                    <p class="feature-category-description">
                        Use built-in templates or create your own with Scriban to format reports exactly how you need them.
                    </p>
                    <div class="feature-list">
                        <a href="#custom-templates" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Custom Templates</span>
                        </a>
                        <a href="#resource-templates" class="feature-link">
                            <span class="feature-link-icon">‚Üí</span>
                            <span>Resource-Specific Templates</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Feature Details Sections -->
    <section id="firewall-rules" class="section" style="background: var(--color-surface);">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Firewall Rule Semantic Diffing</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    When firewall network rule collections change, see exactly which rules were added, modified, or removed‚Äînot confusing index-based array diffs.
                </p>
                
                <div class="feature-comparison">
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚ùå Without tfplan2md</h3>
                        <div class="code-block">
                            <pre><code>~ rule {
    - rule[2] = {
        - name = "allow-ssh-old"
        - protocols = ["TCP"]
        ...
      }
    + rule[1] = {
        + name = "allow-dns"
        + protocols = ["UDP"]
        ...
      }
  }</code></pre>
                        </div>
                        <p class="comparison-note">Which rule was added? Which was removed? Unclear.</p>
                    </div>
                    
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚úÖ With tfplan2md</h3>
                        <div class="code-block">
                            <pre><code>| | Rule Name | Protocols | Source | Dest | Ports |
|---|-----------|-----------|--------|------|-------|
| ‚ûï | allow-dns | UDP | 10.0.1.0/24 | 168.63.129.16 | 53 |
| üîÑ | allow-http | TCP | 10.0.1.0/24 | * | 80 |
| ‚ùå | allow-ssh-old | TCP | 10.0.0.0/8 | 10.0.2.0/24 | 22 |
| ‚è∫Ô∏è | allow-https | TCP | 10.0.1.0/24 | * | 443 |</code></pre>
                        </div>
                        <p class="comparison-note">Crystal clear: one rule added, one changed, one removed.</p>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Key Features</h3>
                    <ul class="highlights-list">
                        <li>Shows add/change/delete/unchanged status for each rule</li>
                        <li>Displays all rule properties in a scannable table</li>
                        <li>Works for all <code>azurerm_firewall_network_rule_collection</code> and <code>azurerm_firewall_application_rule_collection</code> resources</li>
                        <li>Automatically applied‚Äîno configuration needed</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="nsg-rules" class="section">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Network Security Group Rule Diffing</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    NSG security rules are displayed with before/after comparison tables showing which rules changed in a single view.
                </p>
                
                <div class="feature-example">
                    <h3 class="example-title">Example Output</h3>
                    <div class="code-block">
                        <pre><code>#### üîÑ azurerm_network_security_group.app

**Summary:** `nsg-app` | 3 rules changed

##### Security Rule Changes

|  | Name | Priority | Direction | Access | Protocol | Source | Destination |
|--|------|----------|-----------|--------|----------|--------|-------------|
| ‚ûï | allow-https | 110 | Inbound | Allow | TCP | Internet | VirtualNetwork:443 |
| üîÑ | allow-http | 100 | Inbound | Allow | TCP | üåê 0.0.0.0/0 ‚Üí Any | üîå 80 ‚Üí * |
| ‚ùå | allow-ssh | 120 | Inbound | Allow | TCP | 10.0.0.0/16 | VirtualNetwork:22 |</code></pre>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Supported Resources</h3>
                    <ul class="highlights-list">
                        <li><code>azurerm_network_security_group</code> - Full NSG with inline rules</li>
                        <li><code>azurerm_network_security_rule</code> - Individual security rules</li>
                        <li>Shows priority, direction, access, protocol, sources, and destinations</li>
                        <li>Visual icons for IPs (üåê), ports (üîå), and protocols (üì®/üîó)</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="module-grouping" class="section" style="background: var(--color-surface);">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Automatic Module Grouping</h2>
                    <span class="feature-badge">all providers</span>
                </div>
                <p class="feature-detail-description">
                    Resources are automatically organized by Terraform module, making it easy to understand changes in complex multi-module configurations.
                </p>
                
                <div class="feature-example">
                    <h3 class="example-title">Example Structure</h3>
                    <div class="code-block">
                        <pre><code>### Module: root

#### ‚ûï azurerm_resource_group.main
**Summary:** `rg-demo` (eastus)

---

### Module: `module.network`

#### ‚ûï azurerm_virtual_network.vnet
**Summary:** `vnet-demo` in `rg-demo` (10.0.0.0/16)

#### ‚ûï azurerm_subnet.subnet
**Summary:** `snet-app` in VNet `vnet-demo` (10.0.1.0/24)

---

### Module: `module.security.module.nsg`

#### üîÑ azurerm_network_security_group.app
**Summary:** `nsg-app` | 2 rules changed</code></pre>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Benefits</h3>
                    <ul class="highlights-list">
                        <li>Root module appears first, followed by child modules in sorted order</li>
                        <li>Modules without changes are omitted for cleaner reports</li>
                        <li>Nested modules are shown flat but maintain hierarchical sort order</li>
                        <li>Enabled by default‚Äîno configuration required</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="azure-resource-ids" class="section">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Readable Azure Resource IDs</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    Long Azure resource IDs are automatically parsed and formatted as human-readable scopes instead of displaying raw GUID paths.
                </p>
                
                <div class="feature-comparison">
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚ùå Before</h3>
                        <div class="code-block">
                            <pre><code>| Attribute | Value |
|-----------|-------|
| key_vault_id | `/subscriptions/00000000.../resourceGroups/.../providers/Microsoft.KeyVault/vaults/kv-demo` |</code></pre>
                        </div>
                    </div>
                    
                    <div class="comparison-column">
                        <h3 class="comparison-title">‚úÖ After</h3>
                        <div class="code-block">
                            <pre><code>| Attribute | Value |
|-----------|-------|
| key_vault_id | Key Vault `kv-demo` in resource group `rg-demo` |</code></pre>
                        </div>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Features</h3>
                    <ul class="highlights-list">
                        <li>Automatic detection for subscription, resource group, and resource IDs</li>
                        <li>Only values are formatted as code‚Äîlabels remain readable</li>
                        <li>Azure IDs remain in attribute tables (not moved to large values section)</li>
                        <li>Works for all azurerm resources‚Äîno configuration needed</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="role-assignments" class="section" style="background: var(--color-surface);">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Azure Role Assignment Display</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    Role assignments show human-readable role names, scopes, and principal information in a clear table format.
                </p>
                
                <div class="feature-example">
                    <h3 class="example-title">Example Output</h3>
                    <div class="code-block">
                        <pre><code>#### ‚ûï azurerm_role_assignment.reader

| Attribute | Value |
|-----------|-------|
| role | Reader |
| scope | Resource Group `rg-demo` |
| principal | üë§ User: `john.doe@contoso.com` |
| principal_type | User |</code></pre>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Features</h3>
                    <ul class="highlights-list">
                        <li>Built-in role definitions shown by name (not GUID)</li>
                        <li>Scopes parsed into readable format</li>
                        <li>Principal icons: üë§ (user), üë• (group), üíª (service principal)</li>
                        <li>Combines with principal mapping for full names</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="principal-mapping" class="section">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Azure Principal Name Mapping</h2>
                    <span class="feature-badge">azurerm</span>
                </div>
                <p class="feature-detail-description">
                    Map Azure AD principal IDs (users, groups, service principals) to human-readable names using a JSON mapping file.
                </p>
                
                <div class="feature-example">
                    <h3 class="example-title">Usage</h3>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">principals.json</span>
                        </div>
                        <pre><code>{
  "users": {
    "12345678-1234-1234-1234-123456789012": "john.doe@contoso.com"
  },
  "groups": {
    "87654321-4321-4321-4321-210987654321": "Platform Team"
  },
  "servicePrincipals": {
    "abcdef12-3456-7890-abcd-ef1234567890": "terraform-spn"
  }
}</code></pre>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title">Command</span>
                        </div>
                        <pre><code>tfplan2md plan.json --principal-mapping principals.json</code></pre>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Benefits</h3>
                    <ul class="highlights-list">
                        <li>No more cryptic GUIDs in role assignments</li>
                        <li>Immediately see who has access to what</li>
                        <li>Works with role assignments and any resource showing principal IDs</li>
                        <li>Falls back to GUID if no mapping exists</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="visual-icons" class="section" style="background: var(--color-surface);">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Semantic Value Icons</h2>
                    <span class="feature-badge">all providers</span>
                </div>
                <p class="feature-detail-description">
                    Important values are automatically decorated with semantic icons for instant visual recognition.
                </p>
                
                <div class="icon-grid">
                    <div class="icon-card">
                        <div class="icon-large">üåê</div>
                        <div class="icon-label">IP Addresses & CIDRs</div>
                        <div class="icon-example">10.0.0.0/24</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üîå</div>
                        <div class="icon-label">Port Numbers</div>
                        <div class="icon-example">443, 8080</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üì®</div>
                        <div class="icon-label">TCP Protocol</div>
                        <div class="icon-example">TCP</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üîó</div>
                        <div class="icon-label">UDP Protocol</div>
                        <div class="icon-example">UDP</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">‚úÖ</div>
                        <div class="icon-label">Boolean True</div>
                        <div class="icon-example">enabled = true</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">‚ùå</div>
                        <div class="icon-label">Boolean False</div>
                        <div class="icon-example">enabled = false</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üë§</div>
                        <div class="icon-label">User Principal</div>
                        <div class="icon-example">john.doe@contoso.com</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üë•</div>
                        <div class="icon-label">Group Principal</div>
                        <div class="icon-example">Platform Team</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üíª</div>
                        <div class="icon-label">Service Principal</div>
                        <div class="icon-example">terraform-spn</div>
                    </div>
                    <div class="icon-card">
                        <div class="icon-large">üõ°Ô∏è</div>
                        <div class="icon-label">Azure Roles</div>
                        <div class="icon-example">Contributor, Reader</div>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Benefits</h3>
                    <ul class="highlights-list">
                        <li>Scan reports faster with visual cues</li>
                        <li>Spot security-relevant values (IPs, ports) at a glance</li>
                        <li>Works in tables, summaries, and firewall/NSG rule diffs</li>
                        <li>Automatically applied‚Äîno configuration needed</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="value-formatting" class="section">
        <div class="section-container">
            <div class="feature-detail">
                <div class="feature-detail-header">
                    <h2 class="feature-detail-title">Consistent Value Formatting</h2>
                    <span class="feature-badge">all providers</span>
                </div>
                <p class="feature-detail-description">
                    All data values are formatted as inline code to make them visually distinct from labels and easy to scan.
                </p>
                
                <div class="formatting-rules">
                    <div class="formatting-rule">
                        <h4 class="rule-title">Data Values ‚Üí Inline Code</h4>
                        <p class="rule-description">Resource names, IPs, configuration settings</p>
                        <div class="code-block">
                            <pre><code>name = `my-storage-account`
location = `eastus`</code></pre>
                        </div>
                    </div>
                    <div class="formatting-rule">
                        <h4 class="rule-title">Labels & Keys ‚Üí Plain Text</h4>
                        <p class="rule-description">Attribute names, table headers, descriptive text</p>
                        <div class="code-block">
                            <pre><code>| Attribute | Value |
| name      | `value` |</code></pre>
                        </div>
                    </div>
                    <div class="formatting-rule">
                        <h4 class="rule-title">Summaries ‚Üí Code for Values</h4>
                        <p class="rule-description">Identifiers and config values in resource summaries</p>
                        <div class="code-block">
                            <pre><code>**Summary:** `my-vm` in `rg-demo` (eastus)</code></pre>
                        </div>
                    </div>
                </div>

                <div class="feature-highlights">
                    <h3 class="highlights-title">Benefits</h3>
                    <ul class="highlights-list">
                        <li>Values that matter always stand out visually</li>
                        <li>Consistent across all templates and report sections</li>
                        <li>Improves scannability and reduces cognitive load</li>
                        <li>Follows markdown best practices</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Continue with remaining features... -->

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-heading">Product</h4>
                    <a href="../features/index.html" class="footer-link">Features</a>
                    <a href="../getting-started.html" class="footer-link">Get Started</a>
                    <a href="../docs.html" class="footer-link">Documentation</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-heading">Resources</h4>
                    <a href="https://github.com/oocx/tfplan2md" class="footer-link">GitHub</a>
                    <a href="https://hub.docker.com/r/oocx/tfplan2md" class="footer-link">Docker Hub</a>
                    <a href="../examples.html" class="footer-link">Examples</a>
                    <a href="../architecture.html" class="footer-link">Architecture</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-heading">Community</h4>
                    <a href="https://github.com/oocx/tfplan2md/issues" class="footer-link">Issues</a>
                    <a href="../contributing.html" class="footer-link">Contributing</a>
                    <a href="https://github.com/oocx/tfplan2md/blob/main/LICENSE" class="footer-link">License</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">¬© 2025 tfplan2md ‚Ä¢ MIT License</p>
                <p class="footer-note">Built 100% with GitHub Copilot</p>
            </div>
        </div>
    </footer>

    <script>
        // Theme toggle functionality
        const themeToggle = document.querySelector('.theme-toggle');
        const html = document.documentElement;
        
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);
        updateThemeButton(currentTheme);
        
        themeToggle.addEventListener('click', () => {
            const newTheme = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton(newTheme);
        });
        
        function updateThemeButton(theme) {
            const label = theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode';
            themeToggle.setAttribute('aria-label', label);
            themeToggle.setAttribute('title', label);
        }
    </script>
</body>
</html>
