# UAT Test Artifact: azapi_resource Template Feature

This artifact combines three test scenarios to validate the custom template for `azapi_resource`.

---

## Scenario 1: Simple Create Operation

Testing basic body flattening and metadata display.

### Terraform Plan Report

Generated by tfplan2md 1.0.0-alpha.38 on 2026-01-17 UTC | Terraform 1.14.0

#### Summary

| Action | Count | Resource Types |
| -------- | ------- | ---------------- |
| â• Add | 1 | 1 azapi_resource |
| ğŸ”„ Change | 0 |  |
| â™»ï¸ Replace | 0 |  |
| âŒ Destroy | 0 |  |
| **Total** | **1** | |

#### Resource Changes

##### ğŸ“¦ Module: root

<details open style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â• azapi_resource <b></b> â€” <code>ğŸ†” myAccount</code> <code>ğŸŒ westeurope</code></summary>
<br>

###### â• azapi_resource.automation_account

ğŸ“š [View API Documentation (best-effort)](https://learn.microsoft.com/rest/api/automation/automation-accounts/)

| Attribute | Value |
|-----------|-------|

###### Body

| Property | Value |
|----------|-------|
| properties.disableLocalAuth | `âœ… true` |
| properties.publicNetworkAccess | `âŒ false` |
| properties.sku.name | `Basic` |

<details>
<summary>Other Attribute Changes</summary>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| location | (null) | westeurope |
| name | (null) | myAccount |
| parent_id | (null) | /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/example-resources |
| tags.environment | (null) | production |
| tags.team | (null) | platform |
| type | (null) | Microsoft.Automation/automationAccounts@2021-06-22 |

</details>

</details>

---

## Scenario 2: Update Operation with Changes

Testing before/after comparison and change detection.

### Terraform Plan Report

Generated by tfplan2md 1.0.0-alpha.38 on 2026-01-17 UTC | Terraform 1.14.0

#### Summary

| Action | Count | Resource Types |
| -------- | ------- | ---------------- |
| â• Add | 0 |  |
| ğŸ”„ Change | 1 | 1 azapi_resource |
| â™»ï¸ Replace | 0 |  |
| âŒ Destroy | 0 |  |
| **Total** | **1** | |

#### Resource Changes

##### ğŸ“¦ Module: root

<details open style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„ azapi_resource <b></b> â€” <code>ğŸ†” myAccount</code> <code>ğŸŒ westeurope</code> | 2ğŸ”§ body.properties.disableLocalAuth, body.properties.sku.name</summary>
<br>

###### ğŸ”„ azapi_resource.automation_account

ğŸ“š [View API Documentation (best-effort)](https://learn.microsoft.com/rest/api/automation/automation-accounts/)

| Attribute | Value |
|-----------|-------|

###### Body Changes

| Property | Before | After |
|----------|--------|-------|
| properties.disableLocalAuth | `âŒ false` | `âœ… true` |
| properties.sku.name | `Basic` | `Standard` |

</details>

---

## Scenario 3: Complex Nested JSON

Testing deep nesting (5+ levels), arrays, and large property values.

### Terraform Plan Report

Generated by tfplan2md 1.0.0-alpha.38 on 2026-01-17 UTC | Terraform 1.14.0

#### Summary

| Action | Count | Resource Types |
| -------- | ------- | ---------------- |
| â• Add | 1 | 1 azapi_resource |
| ğŸ”„ Change | 0 |  |
| â™»ï¸ Replace | 0 |  |
| âŒ Destroy | 0 |  |
| **Total** | **1** | |

#### Resource Changes

##### ğŸ“¦ Module: root

<details open style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â• azapi_resource <b></b> â€” <code>ğŸ†” myWebApp</code> <code>ğŸŒ westeurope</code></summary>
<br>

###### â• azapi_resource.app_service

ğŸ“š [View API Documentation (best-effort)](https://learn.microsoft.com/rest/api/web/sites/)

| Attribute | Value |
|-----------|-------|

###### Body

| Property | Value |
|----------|-------|
| properties.serverFarmId | `/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/example-resources/providers/Microsoft.Web/serverfarms/myPlan` |
| properties.siteConfig.netFrameworkVersion | `v6.0` |
| properties.siteConfig.alwaysOn | `âœ… true` |
| properties.siteConfig.connectionStrings[0].name | `Database` |
| properties.siteConfig.connectionStrings[0].connectionString | `Server=tcp:myserver.database.windows.net,1433;Initial Catalog=mydb;User ID=admin;Password=***;` |
| properties.siteConfig.connectionStrings[0].type | `SQLAzure` |
| properties.siteConfig.connectionStrings[1].name | `Redis` |
| properties.siteConfig.connectionStrings[1].connectionString | `myredis.redis.cache.windows.net:6380,password=***,ssl=True` |
| properties.siteConfig.connectionStrings[1].type | `RedisCache` |
| properties.siteConfig.appSettings[0].name | `ASPNETCORE_ENVIRONMENT` |
| properties.siteConfig.appSettings[0].value | `Production` |
| properties.siteConfig.appSettings[1].name | `APPLICATIONINSIGHTS_CONNECTION_STRING` |
| properties.siteConfig.appSettings[1].value | `InstrumentationKey=00000000-0000-0000-0000-000000000000;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com/` |
| properties.siteConfig.cors.allowedOrigins[0] | `https://portal.azure.com` |
| properties.siteConfig.cors.allowedOrigins[1] | `https://myapp.azurewebsites.net` |
| properties.siteConfig.cors.supportCredentials | `âœ… true` |
| properties.siteConfig.metadata[0].name | `CURRENT_STACK` |
| properties.siteConfig.metadata[0].value | `dotnet` |
| properties.httpsOnly | `âœ… true` |
| properties.clientAffinityEnabled | `âŒ false` |

<details>
<summary>Other Attribute Changes</summary>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| location | (null) | westeurope |
| name | (null) | myWebApp |
| parent_id | (null) | /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/example-resources |
| type | (null) | Microsoft.Web/sites@2022-03-01 |

</details>

</details>

---

## UAT Validation Checklist

### Scenario 1: Simple Create âœ“
- [ ] Body properties shown in flattened table
- [ ] Metadata table displays name, location, parent_id
- [ ] Documentation link renders and is clickable
- [ ] No markdown parsing errors
- [ ] Emoji render correctly (ğŸŒ, ğŸ“š, â•)

### Scenario 2: Update with Changes âœ“
- [ ] Before/after comparison table shows changes only
- [ ] Changed properties highlighted clearly
- [ ] No raw newlines in table cells
- [ ] Tables parse correctly

### Scenario 3: Complex Nested JSON âœ“
- [ ] Deep nested properties are flattened with dot notation
- [ ] Array elements use index notation (e.g., `[0]`, `[1]`)
- [ ] Connection strings visible (sensitivity test deferred)
- [ ] Mixed properties handled correctly

### Overall Quality âœ“
- [ ] All tables parse without errors
- [ ] No markdown syntax issues
- [ ] Consistent with existing template style
- [ ] Documentation links format is correct
