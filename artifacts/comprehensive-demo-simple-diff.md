# Terraform Plan Report

Generated by tfplan2md 1.0.0-alpha.40 (cfe5978) on 2026-01-19 23:23:42 UTC | Terraform 1.14.0

## Summary

| Action | Count | Resource Types |
| -------- | ------- | ---------------- |
| â•Â Add | 12 | 1 azurerm_firewall_network_rule_collection<br/>1 azurerm_key_vault<br/>1 azurerm_key_vault_secret<br/>2 azurerm_log_analytics_workspace<br/>1 azurerm_resource_group<br/>2 azurerm_role_assignment<br/>1 azurerm_storage_account<br/>1 azurerm_subnet<br/>2 azurerm_virtual_network |
| ğŸ”„Â Change | 6 | 1 azurerm_firewall_network_rule_collection<br/>1 azurerm_key_vault<br/>1 azurerm_key_vault_secret<br/>2 azurerm_storage_account<br/>1 azurerm_virtual_network |
| â™»ï¸Â Replace | 2 | 1 azurerm_network_security_group<br/>1 azurerm_subnet |
| âŒÂ Destroy | 3 | 1 azurerm_role_assignment<br/>1 azurerm_storage_account<br/>1 azurerm_virtual_network |
| **Total** | **23** | |

## Resource Changes

### ğŸ“¦Â Module: root

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_resource_group <b><code>core</code></b> â€” <code>ğŸ†”Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â rg-tfplan2md-demo` |

**ğŸ·ï¸Â Tags:** `environment: demo` `owner: tfplan2md`

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_storage_account <b><code>logs</code></b> â€” <code>ğŸ†”Â sttfplan2mdlogs</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| account_replication_type | `LRS` |
| account_tier | `Standard` |
| allow_blob_public_access | `âŒÂ false` |
| location | `ğŸŒÂ eastus` |
| min_tls_version | `TLS1_2` |
| name | `ğŸ†”Â sttfplan2mdlogs` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |

**ğŸ·ï¸Â Tags:** `cost_center: ops` `environment: demo`

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„Â azurerm_storage_account <b><code>data</code></b> â€” <code>ğŸ†”Â sttfplan2mddata</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code> | 2ğŸ”§Â account_replication_type, tags.cost_center</summary>
<br>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| account_replication_type | `LRS` | `GRS` |
| tags.cost_center | - | `1234` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>âŒÂ azurerm_storage_account <b><code>legacy</code></b> â€” <code>ğŸ†”Â sttfplan2mdlegacy</code> in <code>ğŸ“Â rg-old</code> <code>ğŸŒÂ eastus</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| account_replication_type | `LRS` |
| account_tier | `Standard` |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â sttfplan2mdlegacy` |
| resource_group_name | `ğŸ“Â rg-old` |

**ğŸ·ï¸Â Tags:** `environment: old`

</details>

---

### ğŸ“¦Â Module: `module.network`

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_virtual_network <b><code>hub</code></b> â€” <code>ğŸ†”Â vnet-hub</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code> <code>ğŸŒÂ 10.0.0.0/16</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| address_space[0] | `ğŸŒÂ 10.0.0.0/16` |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â vnet-hub` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_virtual_network <b><code>spoke</code></b> â€” <code>ğŸ†”Â vnet-spoke</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code> <code>ğŸŒÂ 10.1.0.0/16</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| address_space[0] | `ğŸŒÂ 10.1.0.0/16` |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â vnet-spoke` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_subnet <b><code>app</code></b> â€” <code>ğŸ†”Â snet-app</code> in <code>ğŸ“Â rg-tfplan2md-demo</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| address_prefixes[0] | `ğŸŒÂ 10.1.1.0/24` |
| name | `ğŸ†”Â snet-app` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |
| service_endpoints[0] | `Microsoft.Storage` |
| virtual_network_name | `vnet-spoke` |

</details>

<details open style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_firewall_network_rule_collection <b><code>new_public</code></b> â€” <code>ğŸ†”Â public-egress</code> in <code>ğŸ“Â rg-tfplan2md-demo</code></summary>
<br>

### â•Â module.network.azurerm_firewall_network_rule_collection.new_public

**Collection:** `public-egress` | **Priority:** `110` | **Action:** `âœ…Â Allow`

#### Rules

| Rule Name | Protocols | Source Addresses | Destination Addresses | Destination Ports | Description |
| ----------- | ----------- | ------------------ | ---------------------- | ------------------- | ------------- |
| `allow-http` | `ğŸ”—Â TCP` | `ğŸŒÂ 10.1.1.0/24` | `âœ³ï¸` | `ğŸ”ŒÂ 80` | `Allow outbound HTTP` |
| `allow-https` | `ğŸ”—Â TCP` | `ğŸŒÂ 10.1.1.0/24` | `âœ³ï¸` | `ğŸ”ŒÂ 443` | `Allow outbound HTTPS` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„Â azurerm_virtual_network <b><code>branch</code></b> â€” <code>ğŸ†”Â vnet-branch</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code> <code>ğŸŒÂ 10.2.0.0/16</code> | 1ğŸ”§Â address_space[1]</summary>
<br>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| address_space[1] | - | `ğŸŒÂ 10.3.0.0/16` |

</details>

<details open style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„Â azurerm_firewall_network_rule_collection <b><code>network_rules</code></b> â€” <code>ğŸ†”Â network-rules</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> | 22ğŸ”§Â rule[0].source_addresses[1], rule[1].destination_addresses[0], rule[1].destination_ports[1], +19 more</summary>
<br>

### ğŸ”„Â module.network.azurerm_firewall_network_rule_collection.network_rules

**Collection:** `network-rules` | **Priority:** `120` | **Action:** `âœ…Â Allow`

#### Rule Changes

| Change | Rule Name | Protocols | Source Addresses | Destination Addresses | Destination Ports | Description |
| -------- | ----------- | ----------- | ------------------ | ---------------------- | ------------------- | ------------- |
| â• | `allow-web-secure` | `ğŸ”—Â TCP` | `ğŸŒÂ 10.1.1.0/24` | `ğŸŒÂ 10.1.3.0/24` | `ğŸ”ŒÂ 443` | `Secure web` |
| â• | `allow-log-ingest` | `ğŸ”—Â TCP` | `ğŸŒÂ 10.1.4.0/24` | `ğŸŒÂ 10.1.5.0/24` | `ğŸ”ŒÂ 8080` | `Log ingestion` |
| â• | `allow-icmp-ping` | `ğŸ“¡Â ICMP` | `ğŸŒÂ 10.1.1.0/24` | `ğŸŒÂ 10.1.4.0/24` | `âœ³ï¸` | `ICMP ping for network diagnostics` |
| ğŸ”„ | `allow-dns` | ğŸ“¨Â UDP | - `ğŸŒÂ 10.1.1.0/24`<br>+ `ğŸŒÂ 10.1.1.0/24, ğŸŒÂ 10.1.2.0/24` | ğŸŒÂ 168.63.129.16 | ğŸ”ŒÂ 53 | <code>DNS to Azure</code> |
| ğŸ”„ | `allow-api` | ğŸ”—Â TCP | ğŸŒÂ 10.1.1.0/24 | - `ğŸŒÂ 10.1.2.0/24`<br>+ `ğŸŒÂ 10.2.2.0/24` | - `ğŸ”ŒÂ 8443`<br>+ `ğŸ”ŒÂ 8443, ğŸ”ŒÂ 9443` | <code>API tier</code> |
| âŒ | `allow-web` | `ğŸ”—Â TCP` | `ğŸŒÂ 10.1.1.0/24` | `ğŸŒÂ 10.1.3.0/24` | `ğŸ”ŒÂ 80` | `Legacy HTTP` |
| âºï¸ | `allow-monitoring` | `ğŸ”—Â TCP` | `ğŸŒÂ 10.1.1.0/24` | `ğŸŒÂ 10.1.4.0/24` | `ğŸ”ŒÂ 443` | `Monitoring` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â™»ï¸Â azurerm_subnet <b><code>db</code></b> â€” <code>ğŸ†”Â snet-db</code> in <code>ğŸ“Â rg-tfplan2md-demo</code></summary>
<br>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| address_prefixes[0] | `ğŸŒÂ 10.1.2.0/24` | `ğŸŒÂ 10.1.20.0/24` |

</details>

<details open style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â™»ï¸Â azurerm_network_security_group <b><code>app</code></b> â€” <code>ğŸ†”Â nsg-app</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code></summary>
<br>

### â™»ï¸Â module.network.azurerm_network_security_group.app

**Network Security Group:** `nsg-app`

#### Security Rules

| Change | Name | Priority | Direction | Access | Protocol | Source Addresses | Source Ports | Destination Addresses | Destination Ports | Description |
| -------- | ------ | ---------- | ----------- | -------- | ---------- | ------------------ | ------------ | ---------------------- | ------------------- | ------------- |
| â• | `ğŸ†”Â allow-https` | `100` | `â¬‡ï¸Â Inbound` | `âœ…Â Allow` | `ğŸ”—Â TCP` | `âœ³ï¸` | `âœ³ï¸` | `âœ³ï¸` | `ğŸ”ŒÂ 443` | `-` |
| â• | `ğŸ†”Â deny-rdp` | `200` | `â¬‡ï¸Â Inbound` | `â›”Â Deny` | `ğŸ”—Â TCP` | `âœ³ï¸` | `âœ³ï¸` | `âœ³ï¸` | `ğŸ”ŒÂ 3389` | `Block RDP from internet` |
| â• | `ğŸ†”Â allow-outbound-https` | `300` | `â¬†ï¸Â Outbound` | `âœ…Â Allow` | `ğŸ”—Â TCP` | `âœ³ï¸` | `âœ³ï¸` | `âœ³ï¸` | `ğŸ”ŒÂ 443` | `Allow outbound HTTPS` |
| âŒ | `ğŸ†”Â allow-http` | `100` | `â¬‡ï¸Â Inbound` | `âœ…Â Allow` | `ğŸ”—Â TCP` | `âœ³ï¸` | `âœ³ï¸` | `âœ³ï¸` | `ğŸ”ŒÂ 80` | `-` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>âŒÂ azurerm_virtual_network <b><code>decom</code></b> â€” <code>ğŸ†”Â vnet-old</code> in <code>ğŸ“Â rg-old</code> <code>ğŸŒÂ eastus</code> <code>ğŸŒÂ 10.50.0.0/16</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| address_space[0] | `ğŸŒÂ 10.50.0.0/16` |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â vnet-old` |
| resource_group_name | `ğŸ“Â rg-old` |

</details>

---

### ğŸ“¦Â Module: `module.security`

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_role_assignment <b><code>rg_reader</code></b> â€” <code>ğŸ‘¤Â Jane Doe (User)</code> â†’ <code>ğŸ›¡ï¸Â Reader</code> on <code>rg-tfplan2md-demo</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| scope | `ğŸ“Â rg-tfplan2md-demo` in subscription `12345678-1234-1234-1234-123456789012` |
| role_definition_id | `ğŸ›¡ï¸Â Reader` (`acdd72a7-3385-48ef-bd42-f606fba81ae7`) |
| principal_id | `ğŸ‘¤Â Jane Doe (User)` [`00000000-0000-0000-0000-000000000001`] |
| principal_type | `ğŸ‘¤Â User` |
| role_definition_name | `ğŸ›¡ï¸Â Reader` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_role_assignment <b><code>storage_reader</code></b> â€” <code>ğŸ‘¥Â DevOps Team (Group)</code> â†’ <code>ğŸ›¡ï¸Â Storage Blob Data Reader</code> on Storage Account <code>sttfplan2mdlogs</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| scope | Storage Account `ğŸ†”Â sttfplan2mdlogs` in resource group `ğŸ“Â rg-tfplan2md-demo` of subscription `12345678-1234-1234-1234-123456789012` |
| role_definition_id | `ğŸ›¡ï¸Â Storage Blob Data Reader` (`2a2b9908-6ea1-4ae2-8e65-a410df84e7d1`) |
| principal_id | `ğŸ‘¥Â DevOps Team (Group)` [`00000000-0000-0000-0000-000000000002`] |
| principal_type | `ğŸ‘¥Â Group` |
| role_definition_name | `ğŸ›¡ï¸Â Storage Blob Data Reader` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_key_vault <b><code>main</code></b> â€” <code>ğŸ†”Â kv-tfplan2md</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| enabled_for_deployment | `âœ…Â true` |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â kv-tfplan2md` |
| public_network_access_enabled | `âœ…Â true` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |
| sku_name | `standard` |
| tenant_id | `11111111-2222-3333-4444-555555555555` |

**ğŸ·ï¸Â Tags:** `environment: demo` `owner: security`

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_log_analytics_workspace <b><code>security</code></b> â€” <code>ğŸ†”Â law-security</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â law-security` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |
| retention_in_days | `90` |
| sku | `PerGB2018` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_key_vault_secret <b><code>db_password</code></b> â€” <code>ğŸ†”Â db-password</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| content_type | `password` |
| key_vault_id | Key Vault `kv-tfplan2md` in resource group `rg-tfplan2md-demo` of subscription `12345678-1234-1234-1234-123456789012` |
| name | `ğŸ†”Â db-password` |
| value | `(sensitive)` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„Â azurerm_key_vault_secret <b><code>audit_policy</code></b> â€” <code>ğŸ†”Â audit-policy</code> | 1ğŸ”§Â value</summary>
<br>

Large values: value (4 lines, 2 changed)

##### **value:**

```diff
- line1: allow
- line2: log old activity
- line3: end
+ line1: allow
+ line2: log critical activity
+ line3: end
```

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„Â azurerm_storage_account <b><code>analytics</code></b> â€” <code>ğŸ†”Â sttfplan2mdanalytics</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code> | 3ğŸ”§Â account_replication_type, min_tls_version, tags.retention</summary>
<br>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| account_replication_type | `LRS` | `ZRS` |
| min_tls_version | - | `TLS1_2` |
| tags.retention | - | `long` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>ğŸ”„Â azurerm_key_vault <b><code>audit</code></b> â€” <code>ğŸ†”Â kv-audit</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code> | 2ğŸ”§Â public_network_access_enabled, tags.tier</summary>
<br>

| Attribute | Before | After |
| ----------- | -------- | ------- |
| public_network_access_enabled | `âœ…Â true` | `âŒÂ false` |
| tags.tier | - | `gold` |

</details>

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>âŒÂ azurerm_role_assignment <b><code>obsolete</code></b> â€” remove <code>ğŸ›¡ï¸Â Reader</code> on <code>rg-old</code> from <code>ğŸ’»Â Legacy App (Service Principal)</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| scope | `ğŸ“Â rg-old` in subscription `12345678-1234-1234-1234-123456789012` |
| role_definition_id | `ğŸ›¡ï¸Â Reader` (`acdd72a7-3385-48ef-bd42-f606fba81ae7`) |
| principal_id | `ğŸ’»Â Legacy App (Service Principal)` [`00000000-0000-0000-0000-000000000005`] |
| principal_type | `ğŸ’»Â ServicePrincipal` |
| role_definition_name | `ğŸ›¡ï¸Â Reader` |

</details>

---

### ğŸ“¦Â Module: `module.network.module.monitoring`

<details style="margin-bottom:12px; border:1px solid rgb(var(--palette-neutral-10, 153, 153, 153)); padding:12px;">
<summary>â•Â azurerm_log_analytics_workspace <b><code>core</code></b> â€” <code>ğŸ†”Â law-core</code> in <code>ğŸ“Â rg-tfplan2md-demo</code> <code>ğŸŒÂ eastus</code></summary>
<br>

| Attribute | Value |
| ----------- | ------- |
| location | `ğŸŒÂ eastus` |
| name | `ğŸ†”Â law-core` |
| resource_group_name | `ğŸ“Â rg-tfplan2md-demo` |
| retention_in_days | `30` |
| sku | `PerGB2018` |

</details>
