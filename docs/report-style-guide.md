# Report Style Guide

This document defines the styling and formatting guidelines for all Markdown reports generated by `tfplan2md`. These guidelines ensure consistency, readability, and a professional appearance across all output formats (default, summary, and resource-specific templates).

## Core Philosophy

**"Data is Code, Labels are Text"**

The primary design principle is to visually distinguish **data values** (what is changing) from **labels and descriptions** (context).

- **Data Values**: Rendered as `inline code` (using backticks). This includes resource names, IDs, IP addresses, configuration settings, and any value extracted from the Terraform plan.
- **Labels & Keys**: Rendered as **plain text**. This includes attribute names, table headers, descriptive text, and action verbs.

## Text Formatting Rules

### 1. Attribute Tables

- **Attribute Names (Keys)**: Plain text.
- **Attribute Values**: Code-formatted.
- **Null/Empty Values**: Represented as `-` (plain text).

**Correct:**
```markdown
| Attribute | Value |
|-----------|-------|
| location | `eastus` |
| sku | `Standard` |
```

**Incorrect:**
```markdown
| `location` | eastus |  <-- Key should be plain, value should be code
| sku | Standard |       <-- Value should be code
```

### 2. Resource Summaries

Summaries provide a concise one-line overview of the resource change.

- **Format**: `**Summary:** <content>`
- **Resource Identifiers**: Code-formatted (e.g., `name`, `id`).
- **Contextual Info**: Code-formatted (e.g., `resource_group`, `location`, `tier`).
- **Separators/Connectors**: Plain text (e.g., `|`, `in`, `on`, `->`).

**Example:**
```markdown
**Summary:** `sttfplan2mdlogs` in `rg-tfplan2md-demo` (`eastus`) | `Standard LRS`
```

### 3. Large Value Headings

For large values moved to collapsible sections:

- **Level**: H5 (`#####`)
- **Style**: Bold label, plain text.
- **Suffix**: Colon (`:`).

**Format:** `##### **<attribute_name>:**`

**Example:**
```markdown
##### **custom_data:**
```

## Structure & Hierarchy

### Headings

- **H1 (`#`)**: Report Title (e.g., "Terraform Plan Report").
- **H2 (`##`)**: Major Sections (e.g., "Summary", "Resource Changes").
- **H3 (`###`)**: Module Grouping (e.g., "Module: root").
- **H4 (`####`)**: Resource Changes (e.g., "‚ûï azurerm_resource_group.main").
- **H5 (`#####`)**: Attribute Details (e.g., Large value headings).

### Module Grouping

- Changes are grouped by module.
- The root module is labeled as `root`.
- Module paths are code-formatted if they are not "root".

**Example:**
```markdown
### Module: `module.network`
```

## Tables

### Standard Columns

- **Create/Delete**: `Attribute` | `Value`
- **Update/Replace**: `Attribute` | `Before` | `After`

### Alignment

- Use default Markdown alignment (usually left-aligned).
- Do not force alignment with colons in the separator line unless necessary for numeric data.

## Diff Representation

### Small Values (In-Table)

For modified attributes that fit within a table cell:

- **Format**: Stacked lines separated by `<br>`.
- **Prefixes**: `- ` for the old value, `+ ` for the new value.
- **Styling**: Values are code-formatted.

**Example:**
```markdown
- `80`<br>+ `8080`
```

### Large Values (Collapsible)

For multi-line strings or long values (>100 chars):

- **Container**: `<details>` block.
- **Summary**: `<summary>Large values: <attribute_name> (<stats>)</summary>`
- **Content**:
    - **Inline Diff**: HTML `<pre>` block with styled `<span>` elements for character-level highlighting.
    - **Standard Diff**: Code block with `diff` language identifier.

## Icons & Symbols

Use the following standard set of icons to indicate actions:

| Action | Icon | Meaning |
|--------|------|---------|
| Create | ‚ûï | Resource is being created |
| Update | üîÑ | Resource is being modified in-place |
| Delete | ‚ùå | Resource is being destroyed |
| Replace| ‚ôªÔ∏è | Resource is being destroyed and recreated |
| No-Op  | ‚è∫Ô∏è | Resource is unchanged (used in some lists) |

## Resource-Specific Templates

Custom templates (e.g., Firewall, NSG) must adhere to these guidelines:

1.  **Headers**: Use code formatting for dynamic values (e.g., `**Collection:** `public-egress``).
2.  **Rule Tables**: All data cells (names, IPs, ports) must be code-formatted.
3.  **Diffs**: Use the standard diff representation for modified rules.

**Example (NSG Rule):**
```markdown
| ‚ûï | `allow-https` | `100` | `Inbound` | ...
```
