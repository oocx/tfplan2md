<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tfplan2md - Transform Terraform Plans Into Readable Reports</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="index.html" class="brand-link">
                    <svg width="32" height="32" viewBox="0 0 32 32" class="brand-logo">
                        <rect width="32" height="32" rx="6" fill="url(#logoGradient)"/>
                        <path d="M8 10h16M8 16h16M8 22h10" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#646cff"/>
                                <stop offset="100%" style="stop-color:#747bff"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <span class="brand-name">tfplan2md</span>
                </a>
            </div>
            <button class="mobile-menu-btn" aria-label="Toggle navigation menu">
                <span class="hamburger-icon"></span>
            </button>
            <div class="nav-menu">
                <a href="features/index.html" class="nav-item">Features</a>
                <a href="getting-started.html" class="nav-item">Install</a>
                <a href="docs.html" class="nav-item">Docs</a>
                <a href="examples.html" class="nav-item">Examples</a>
                <a href="providers/index.html" class="nav-item">Providers</a>
                <a href="architecture.html" class="nav-item">Architecture</a>
                <a href="contributing.html" class="nav-item">Contributing</a>
                <button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
                    <span class="theme-icon"></span>
                </button>
                <a href="https://github.com/oocx/tfplan2md" class="nav-item nav-cta">GitHub</a>
            </div>
        </div>
    </nav>

    <header class="hero hero-primary">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-badges">
                    <a href="getting-started.html" class="hero-badge">üê≥ Docker Ready</a>
                    <a href="https://github.com/oocx/tfplan2md/blob/main/LICENSE" class="hero-badge">üìÑ Free & Open Source</a>
                    <a href="contributing.html#ai-workflow" class="hero-badge">‚ú® Built 100% with GitHub Copilot</a>
                </div>
                <h1 class="hero-title">
                    Transform Terraform Plans Into <span class="hero-gradient">Readable Reports</span>
                </h1>
                <p class="hero-subtitle">
                    Stop drowning in verbose plan output. Generate structured Markdown reports that render perfectly in PR comments.
                </p>
            </div>
        </div>
    </header>

    <!-- Problem Section -->
    <section class="problem-section">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-title">The Pull Request Review Problem</h2>
                <p class="section-description">
                    Reviewing Terraform changes in PRs is painful with raw plan output
                </p>
            </div>
            <div class="problem-solution-layout">
                <div class="screenshot-side">
                    <div class="screenshot-container">
                        <div class="screenshot-header">Raw Terraform Plan</div>
                        <div class="screenshot-content code-block">
<pre><code># azurerm_network_security_rule.security_rule[2] will be created
+ resource "azurerm_network_security_rule" "rule" {
  + access                     = "Allow"
  + destination_address_prefix = "10.0.0.0/8"
  + destination_port_range     = "22"
  + direction                  = "Inbound"
  + name                       = "ssh_from_corporate"
  + priority                   = 100
  + protocol                   = "Tcp"
  + source_address_prefix      = "10.0.0.0/8"
  + source_port_range          = "*"
  + resource_group_name        = "rg-network"
  + network_security_group_name = "nsg-prod"
  }

# azurerm_network_security_rule.security_rule[3] will be created
+ resource "azurerm_network_security_rule" "rule" {
  + access                     = "Deny"
  + destination_address_prefix = "*"
  + destination_port_range     = "3389"
...</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="list-side">
                    <ul class="problem-list">
                        <li>
                            <span class="x-icon">‚úó</span>
                            <div>
                                <strong>Wall of Text</strong>
                                <p>Raw plan output is overwhelming and difficult to scan</p>
                            </div>
                        </li>
                        <li>
                            <span class="x-icon">‚úó</span>
                            <div>
                                <strong>Lost Context</strong>
                                <p>Hard to understand what's actually changing and why</p>
                            </div>
                        </li>
                        <li>
                            <span class="x-icon">‚úó</span>
                            <div>
                                <strong>Mental Mapping</strong>
                                <p>Constantly looking up IDs and cross-referencing resources manually</p>
                            </div>
                        </li>
                        <li>
                            <span class="x-icon">‚úó</span>
                            <div>
                                <strong>Cryptic Diffs</strong>
                                <p>Index changes instead of semantic "what actually changed"</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Section -->
    <section class="solution-section hero-secondary">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-title">tfplan2md Solves This</h2>
            </div>
            <div class="problem-solution-layout">
                <div class="list-side">
                    <ul class="solution-list">
                        <li>
                            <span class="check-icon">‚úì</span>
                            <div>
                                <strong>Security Changes as Readable Tables</strong>
                                <p>Firewall and NSG rules rendered with protocols, ports, and actions</p>
                            </div>
                        </li>
                        <li>
                            <span class="check-icon">‚úì</span>
                            <div>
                                <strong>Friendly Names, Not GUIDs</strong>
                                <p>Principal IDs, role names, and scopes resolved to readable text</p>
                            </div>
                        </li>
                        <li>
                            <span class="check-icon">‚úì</span>
                            <div>
                                <strong>Inline Diffs for Large Values</strong>
                                <p>JSON policies and scripts with character-level highlighted changes</p>
                            </div>
                        </li>
                        <li>
                            <span class="check-icon">‚úì</span>
                            <div>
                                <strong>Optimized for PR Comments</strong>
                                <p>Designed and tested for GitHub and Azure DevOps rendering</p>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="screenshot-side">
                    <div class="screenshot-container">
                        <div class="screenshot-header">tfplan2md Report</div>
                        <div class="screenshot-content code-block">
<pre><code>## üìä Network Security Rules

### ‚úÖ Creating AllowSSH
**Action:** üÜï Allow  
**Priority:** 100

**Traffic Flow:**
- **Source:** 10.0.0.0/8
- **Destination:** 10.0.0.0/8  
- **Port:** 22 (TCP)

---

### ‚úÖ Creating DenyRDP
**Action:** üÜï Deny
**Priority:** 200

**Traffic Flow:**
- **Source:** *
- **Destination:** *
- **Port:** 3389 (TCP)</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="install" class="install-section">
        <div class="section-container">
            <div class="install-card">
                <div class="install-content">
                    <h2 class="install-title">Get Started in Seconds</h2>
                    <p class="install-description">Run one command to convert your Terraform plan</p>
                    
                    <div class="install-row">
                        <div class="install-actions">
                            <a href="getting-started.html" class="btn btn-lg btn-white">Get Started</a>
                            <a href="examples.html" class="btn btn-lg btn-outline-white">View Examples</a>
                        </div>
                        
                        <div class="command-box">
                            <code>terraform show -json plan.tfplan | docker run -i oocx/tfplan2md</code>
                            <button class="copy-btn" aria-label="Copy command to clipboard">üìã</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="features-section">
        <div class="section-container">
            <div class="section-header centered">
                <h2 class="section-title">Powerful Features</h2>
                <p class="section-description">Everything you need for better Terraform PR reviews</p>
            </div>
            <div class="features-carousel">
                <button class="carousel-btn carousel-prev" aria-label="Previous features">‚Äπ</button>
                <div class="features-carousel-track">
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üîç</div>
                        </div>
                        <h3 class="feature-title">Semantic Diffing</h3>
                        <p class="feature-description">
                            See which firewall rules or NSG rules were added/removed, 
                            not confusing index modifications.
                        </p>
                        <a href="features/index.html#firewall-rules" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üìÅ</div>
                        </div>
                        <h3 class="feature-title">Module Grouping</h3>
                        <p class="feature-description">
                            Resources organized by module for better context 
                            and easier navigation.
                        </p>
                        <a href="features/index.html#module-grouping" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">‚òÅÔ∏è</div>
                        </div>
                        <h3 class="feature-title">Azure Optimizations</h3>
                        <p class="feature-description">
                            Long Azure resource IDs formatted as readable scopes. 
                            Principal mapping for role assignments.
                        </p>
                        <a href="features/index.html#azure-resource-ids" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üé®</div>
                        </div>
                        <h3 class="feature-title">Visual Enhancements</h3>
                        <p class="feature-description">
                            Semantic icons for IPs, ports, protocols, booleans, 
                            and principals improve scannability.
                        </p>
                        <a href="features/index.html#visual-icons" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üìù</div>
                        </div>
                        <h3 class="feature-title">Resource Summaries</h3>
                        <p class="feature-description">
                            One-line summaries for quick understanding of 
                            each resource change.
                        </p>
                        <a href="features/index.html#resource-summaries" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üîí</div>
                        </div>
                        <h3 class="feature-title">Security & Privacy</h3>
                        <p class="feature-description">
                            Sensitive values masked by default. Distroless 
                            Docker image for minimal attack surface.
                        </p>
                        <a href="features/index.html#sensitive-masking" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üìÑ</div>
                        </div>
                        <h3 class="feature-title">Large Value Handling</h3>
                        <p class="feature-description">
                            Multi-line values formatted with line-by-line diffs 
                            in collapsible sections.
                        </p>
                        <a href="features/index.html#large-values" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                    <div class="feature-card elevated">
                        <div class="feature-header">
                            <div class="feature-icon-lg">üõ†Ô∏è</div>
                        </div>
                        <h3 class="feature-title">Customization</h3>
                        <p class="feature-description">
                            Use built-in templates or create your own with 
                            Scriban for custom formatting.
                        </p>
                        <a href="features/index.html#custom-templates" class="feature-link-btn">Learn more ‚Üí</a>
                    </div>
                </div>
                <button class="carousel-btn carousel-next" aria-label="Next features">‚Ä∫</button>
            </div>
            <div class="carousel-dots"></div>
        </div>
    </section>

    <section class="cicd-section">
        <div class="section-container">
            <div class="cicd-content">
                <div class="cicd-text">
                    <h2 class="cicd-title">Perfect for CI/CD</h2>
                    <p class="cicd-description">
                        Integrate tfplan2md into your GitHub Actions, Azure Pipelines, 
                        or GitLab CI workflow. Automatically post plan reports as PR comments.
                    </p>
                    <a href="getting-started.html#cicd" class="btn btn-primary">View Integration Guides</a>
                </div>
                <div class="cicd-example">
                    <div class="code-window">
                        <div class="code-tabs">
                            <button class="code-tab active">GitHub Actions</button>
                            <button class="code-tab">Azure Pipelines</button>
                        </div>
                        <div class="code-content">
<pre>- name: Generate markdown report
  run: |
    terraform show -json plan.tfplan | \
      docker run -i oocx/tfplan2md > plan.md

- name: Post PR comment
  uses: actions/github-script@v6
  with:
    script: |
      const fs = require('fs');
      const body = fs.readFileSync('plan.md', 'utf8');
      github.rest.issues.createComment({
        issue_number: context.issue.number,
        owner: context.repo.owner,
        repo: context.repo.repo,
        body
      });</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4 class="footer-heading">Product</h4>
                    <a href="features/index.html" class="footer-link">Features</a>
                    <a href="getting-started.html" class="footer-link">Get Started</a>
                    <a href="docs.html" class="footer-link">Documentation</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-heading">Resources</h4>
                    <a href="https://github.com/oocx/tfplan2md" class="footer-link">GitHub</a>
                    <a href="https://hub.docker.com/r/oocx/tfplan2md" class="footer-link">Docker Hub</a>
                    <a href="examples.html" class="footer-link">Examples</a>
                    <a href="architecture.html" class="footer-link">Architecture</a>
                </div>
                <div class="footer-col">
                    <h4 class="footer-heading">Community</h4>
                    <a href="https://github.com/oocx/tfplan2md/issues" class="footer-link">Issues</a>
                    <a href="contributing.html" class="footer-link">Contributing</a>
                    <a href="https://github.com/oocx/tfplan2md/blob/main/LICENSE" class="footer-link">License</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">¬© 2025 tfplan2md ‚Ä¢ MIT License</p>
                <p class="footer-note">Built 100% with GitHub Copilot</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu functionality
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-menu');
        
        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            mobileMenuBtn.classList.toggle('active');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!navMenu.contains(e.target) && !mobileMenuBtn.contains(e.target) && navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                mobileMenuBtn.classList.remove('active');
            }
        });

        // Theme toggle functionality
        const themeToggle = document.querySelector('.theme-toggle');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to 'light'
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);
        updateThemeButton(currentTheme);
        
        themeToggle.addEventListener('click', () => {
            const newTheme = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton(newTheme);
        });
        
        function updateThemeButton(theme) {
            const label = theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode';
            themeToggle.setAttribute('aria-label', label);
            themeToggle.setAttribute('title', label);
        }
        
        // Copy button functionality
        document.querySelectorAll('.copy-btn').forEach(button => {
            button.addEventListener('click', () => {
                const code = button.previousElementSibling.textContent;
                navigator.clipboard.writeText(code).then(() => {
                    button.textContent = '‚úÖ';
                    setTimeout(() => button.textContent = 'üìã', 2000);
                });
            });
        });

        // Carousel functionality
        const track = document.querySelector('.features-carousel-track');
        const slides = Array.from(track.children);
        const nextButton = document.querySelector('.carousel-next');
        const prevButton = document.querySelector('.carousel-prev');
        const dotsContainer = document.querySelector('.carousel-dots');
        
        let currentIndex = 0;
        let slidesPerView = 3;
        let slideGroups = Math.ceil(slides.length / slidesPerView);
        
        function calculateSlidesPerView() {
            if (window.innerWidth <= 768) {
                slidesPerView = 1;
            } else if (window.innerWidth <= 1024) {
                slidesPerView = 2;
            } else {
                slidesPerView = 3;
            }
            slideGroups = Math.ceil(slides.length / slidesPerView);
        }
        
        function createDots() {
            dotsContainer.innerHTML = '';
            for (let i = 0; i < slideGroups; i++) {
                const dot = document.createElement('button');
                dot.classList.add('carousel-dot');
                dot.setAttribute('aria-label', `Go to slide group ${i + 1}`);
                if (i === currentIndex) dot.classList.add('active');
                dotsContainer.appendChild(dot);
            }
            
            Array.from(dotsContainer.children).forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentIndex = index;
                    updateCarousel();
                });
            });
        }
        
        function updateCarousel() {
            const slideWidth = slides[0].offsetWidth + 24;
            const offset = currentIndex * slideWidth * slidesPerView;
            track.style.transform = `translateX(-${offset}px)`;
            
            Array.from(dotsContainer.children).forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
            
            prevButton.disabled = currentIndex === 0;
            nextButton.disabled = currentIndex === slideGroups - 1;
        }
        
        nextButton.addEventListener('click', () => {
            if (currentIndex < slideGroups - 1) {
                currentIndex++;
                updateCarousel();
            }
        });
        
        prevButton.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                updateCarousel();
            }
        });
        
        // Initialize and handle resize
        calculateSlidesPerView();
        createDots();
        updateCarousel();
        
        window.addEventListener('resize', () => {
            const oldSlidesPerView = slidesPerView;
            calculateSlidesPerView();
            if (oldSlidesPerView !== slidesPerView) {
                currentIndex = 0;
                createDots();
            }
            updateCarousel();
        });
    </script>
</body>
</html>
